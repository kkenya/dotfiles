# options
# set-option [-aFgopqsuw] [-t target-pane] option value (alias: set
# Set a pane option with -p, a window option with -w, a server option with -s, otherwise a session option. If the option is not a user option, -w or -s may be unnecessary - tmux will infer the type from the option name, assuming -w for pane options. If -g is given, the global session or window option is set.

## STYLES
# color Set the foreground colour. The colour is one of: black, red, green, yellow, blue, magenta, cyan, white; if supported the bright variants brightred, brightgreen, brightyellow; colour0 to colour255 from the 256-colour set; default for the default colour; terminal for the terminal default colour; or a hexadecimal RGB string such as ‘#ffffff’.
# bright (or bold), dim, underscore, blink, reverse, hidden, italics, overline, strikethrough, double-underscore, curly-underscore, dotted-underscore, dashed-underscore

# Set the key accepted as a prefix key. In addition to the standard keys described under KEY BINDINGS, prefix can be set to the special key ‘None’ to set no prefix.
# Set a secondary key accepted as a prefix key. Like prefix, prefix2 can be set to ‘None’.
set-option -g prefix C-a
set-option -g prefix2 C-j
unbind-key C-b
# set-option the time in milliseconds for which tmux waits after an escape is input to determine if it is part of a function or meta key sequences.
set-option -g escape-time 0 # The default is 500 milliseconds.
# set-option the maximum number of lines held in window history.  This setting applies only to new windows - existing window histories are not resized and retain the limit at the point they were created.
set-option -g history-limit 10000

## session

# If on, tmux captures the mouse and allows mouse events to be bound as key bindings.  See the MOUSE SUPPORT section for details.
set-option -g mouse on
# Use vi or emacs-style key bindings in copy mode.  The default is emacs, unless VISUAL or EDITOR contains `vi'.
set-option -g mode-keys vi

## status line

# Show or hide the status line or specify its size. Using on gives a status line one row in height; 2, 3, 4 or 5 more rows.
set-option -g status on
# Update the status line every interval seconds.  By default, updates will occur every 15 seconds.  A setting of zero disables redrawing at interval.
set-option -g status-interval 1
# status-styleがstatus line全体の設定となる。window-stausはleftとrightを除いた表示の指定
set-option -g status-style fg='#f5f5f5',bg=cyan,bright
# Set status line style for a single window. For how to specify style, see the STYLES section.
set-option -g window-status-style fg=white,bg=cyan,double-underscore
# Set the format in which the window is displayed in the status line window list. See the FORMATS and STYLES sections.
set-option -g window-status-format "#W [#I]"
# Set status line style for the currently active window. For how to specify style, see the STYLES section.
set-option -g window-status-current-style fg=white,bg='#1e50a2',underscore
# Like window-status-format, but is the format used when the window is the current window.
set-option -g window-status-current-format "#W [#I]"
# Display string (by default the session name) to the left of the status line. string will be passed through strftime(3). Also see the FORMATS and STYLES sections.
# For details on how the names and titles can be set see the NAMES AND TITLES section.
set-option -g status-left "session [#S]"
# Set the style of the left part of the status line. For how to specify style, see the STYLES section.
set-option -g status-left-style fg=white,bg='#223a70'
# Set the maximum length of the left component of the status line. The default is 10.
set-option -g status-left-length 20
# Display string to the right of the status line. By default, the current pane title in double quotes, the date and the time are shown. As with status-left, string will be passed to strftime(3) and character pairs are replaced.
set-option -g status-right "%Y-%m-%d %H:%M:%S(%a)"
# Set the style of the right part of the status line. For how to specify style, see the STYLES section.
set-option -g status-right-style fg=white,bg='#17184b'
# Set the maximum length of the right component of the status line. The default is 40.
set-option -g status-right-length 80

## window

# set-option the pane style.  For how to specify style, see the STYLES section.
set-option -g window-style bg='#4d4d4d'
set-option -g window-active-style bg='#333333'
# set-option the base index from which an unused index should be searched when a new window is created.  The default is zero.
set-option -g base-index 1
# If on, when a window is closed in a session, automatically renumber the other windows in numerical order.  This respects the base-index option if it has been set.  If off, do not renumber the windows.
set-option -g renumber-windows on
# Like base-index, but set-option the starting index for pane numbers.
set-option -g pane-base-index 1

## pane

# Turn pane border status lines off or set their position.
set-option -g pane-border-status off # [off | top | bottom]
# Set the pane border style for panes aside from the active pane. For how to specify style, see the STYLES section. Attributes are ignored.
set-option -g pane-border-style fg=default,bg=default
# Set the pane border style for the currently active pane. For how to specify style, see the STYLES section. Attributes are ignored.
set-option -g pane-active-border-style fg=default,bg=default

# bind-key [-nr] [-N note] [-T key-table] key command [arguments] (alias: bind
#   -nオプション: -T rootのエイリアスでprefixの入力なしにkey commandを呼び出す
#   -rオプション: リピートするキーに指定。間隔はrepeat-timeで指定
# send-keys [-FHlMRX] [-N repeat-count] [-t target-pane] key ... (alias: send
# unbind-key [-anq] [-T key-table] key (alias: unbind

# v でcopy-modeを開始
# cope-pipe-and-cancelの場合カーソルが入力まで戻されるため利用しない
bind-key -T copy-mode-vi v send-keys -X begin-selection
# Enter, y, マウスドラッグでtmuxのbufferとclipboardにコピー
bind-key -T copy-mode-vi y send-keys -X copy-pipe "pbcopy"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe "pbcopy"
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe "pbcopy"

## paneの選択切り替えをprefix [hljk]で行う
# Make pane target-pane the active pane in window target-window.  If one of -D, -L, -R, or -U is used, respectively the pane below, to the left, to the right, or above the target pane is used.  -Z keeps the window zoomed if it was zoomed.  -l is the same as using the last-pane command.  -e enables or -d disables input to the pane.  -T sets the pane title. -m and -M are used to set-option and clear the marked pane.  There is one marked pane at a time, setting a new marked pane clears the last.  The marked pane is the default target for -s to join-pane, swap-pane and swap-window.
bind-key -N 'Select the pane to the left of the active pane' -r h select-pane -L -N select left pane
bind-key -N 'Select the pane below the active pane' -r j select-pane -R 
bind-key -N 'Select the pane above the active pane' -r k select-pane -D
bind-key -N 'Select the pane to the right of the active pane' -r l select-pane -U
# prefixなしでpaneを切り替え
bind-key -N 'Select next pane' -n ^o select-pane -t :.+
# paneのリサイズをprefix Ctrl+[hljk]で行う
bind-key -N 'Resize the pane left by 10' -r ^h resize-pane -L 10 
bind-key -N 'Resize the pane down by 10' -r ^j resize-pane -D 10
bind-key -N 'Resize the pane up by 10' -r ^k resize-pane -U 10
bind-key -N 'Resize the pane right by 10' -r ^l resize-pane -R 10
#List key bindings.  There are two forms: the default lists keys as bind-key commands; -N lists only keys with attached notes and shows only the key and note for each key.  #With the default form, all key tables are listed by default.  -T lists only keys in key-table.
#With the -N form, only keys in the root and prefix key tables are listed by default; -T also lists only keys in key-table.  -P specifies a prefix to print before each key and -1 lists only the first matching key.  -a lists the command for keys that do have a note rather than skipping them.
bind-key -N 'list-keys' ? list-keys
# command-promptでShift+rで設定を読み込めるように
bind-key -N 'Reload source-file' r source-file ~/.tmux.conf \; \
    display-message "reload source-file ~/.tmux.conf"

